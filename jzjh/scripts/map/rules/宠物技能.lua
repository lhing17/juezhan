---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by G_Seinfeld.
--- DateTime: 2018/11/15 21:40
---
--切换背包
function Ba()
    return GetSpellAbilityId() == 1093677134
end
function ba()
    B7 = 1
    for _ in _loop_() do
        if B7 > 6 then break end
        UnitAddItem(b7[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], UnitItemInSlotBJ(C7[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], B7))
        B7 = B7 + 1
    end
    B7 = 1
    for _ in _loop_() do
        if B7 > 6 then break end
        UnitAddItem(C7[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], UnitItemInSlotBJ(GetTriggerUnit(), B7))
        B7 = B7 + 1
    end
    B7 = 1
    for _ in _loop_() do
        if B7 > 6 then break end
        UnitAddItem(GetTriggerUnit(), UnitItemInSlotBJ(b7[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], B7))
        B7 = B7 + 1
    end
end
--鸟的贩卖技能
function ca()
    return GetSpellAbilityId() == 1093679433
end
function Da()
    CreateNUnitsAtLoc(1, 1853257068, GetOwningPlayer(GetTriggerUnit()), v7[9], bj_UNIT_FACING)
    ShowUnitHide(bj_lastCreatedUnit)
    UnitAddItem(bj_lastCreatedUnit, CreateItem(GetItemTypeId(GetSpellTargetItem()), 0, 0))
    UnitDropItemTarget(bj_lastCreatedUnit, UnitItemInSlotBJ(bj_lastCreatedUnit, 1), Rs)
    UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 5.0)
    RemoveItem(GetSpellTargetItem())
    PlaySoundOnUnitBJ(Ih, 100, GetTriggerUnit())
    AddSpecialEffectTargetUnitBJ("overhead", GetTriggerUnit(), "Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
    DestroyEffect(bj_lastCreatedEffect)
end
--切换物品
function IsQieHuanItem()
    return GetSpellAbilityId() == 1093677133 and he[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false
end
function QieHuanItem()
    UnitAddItem(Vs, UnitItemInSlotBJ(GetTriggerUnit(), 1))
    UnitAddItem(GetTriggerUnit(), UnitItemInSlotBJ(udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], 1))
    UnitAddItem(udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], UnitItemInSlotBJ(Vs, 1))
end

local function init()
    -- 切换背包
    rj = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(rj, EVENT_PLAYER_UNIT_SPELL_CAST)
    TriggerAddCondition(rj, Condition(Ba))
    TriggerAddAction(rj, ba)
    -- 鸟的贩卖技能
    sj = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(sj, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    TriggerAddCondition(sj, Condition(ca))
    TriggerAddAction(sj, Da)

    -- 切换物品
    tj = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(tj, EVENT_PLAYER_UNIT_SPELL_CAST)
    TriggerAddCondition(tj, Condition(IsQieHuanItem))
    TriggerAddAction(tj, QieHuanItem)
end
init()