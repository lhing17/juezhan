---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by G_Seinfeld.
--- DateTime: 2018/11/16 12:59
---

local function init()
    -- 购买等级
    et.game:event '单位-捡起物品'(function(self, u, item)
        if u:get_owner():is_player() and jass.GetItemTypeId(item) == 1227896154 then
            local p = u:get_owner()
            local h = p.hero
            local hu = et.unit(h.handle)
            if hu:get_level() >= 100 then
                p:add_gold(10000)
                p:send_message("|cFFFFCC00等级高于100无法购买等级")
            else
                if Ce[p.id] == 5 then
                    p:add_gold(10000)
                    p:send_message("|cFFFFCC00选择该副职无法购买等级")
                else
                    hu:set_level(hu:get_level() + 1)
                end
            end
        end
    end)
end
init()