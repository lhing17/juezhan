---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by G_Seinfeld.
--- DateTime: 2018/11/13 20:31
---
require 'test.test-main'
local trigger_util = require 'jass.util.trigger_util'
require 'war3.id'

local function test_base_protection()
    trigger_util.trig_player_unit_event(et.player(1).handle, jass.EVENT_PLAYER_UNIT_SELECTED, LanXin.handle)
    trigger_util.trig_player_unit_event(et.player(1).handle, jass.EVENT_PLAYER_UNIT_SELECTED, LanXin.handle)
    local tab = {
        event_damage = 100,
        event_damage_source = jass.CreateUnit(jass.Player(6), base.string2id('ugho'), 0, 0, 270)
    }
    trigger_util.trig_unit_event(udg_ZhengPaiWL.handle, jass.EVENT_UNIT_DAMAGED, tab)
    udg_ZhengPaiWL.handle:set_unit_state(jass.UNIT_STATE_LIFE, 200)
    tab = {
        attacker = jass.CreateUnit(jass.Player(6), base.string2id('ugho'), 0, 0, 270)
    }
    trigger_util.trig_player_unit_event(jass.Player(5), jass.EVENT_PLAYER_UNIT_ATTACKED, udg_ZhengPaiWL.handle, tab)

end
test_base_protection()