---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by G_Seinfeld.
--- DateTime: 2018/11/5 0005 22:14
---

local common_util = require 'jass.util.common_util'
local hashtable = {}

local mt = {}
hashtable.__index = mt
mt.type = 'hashtable'

function mt:save(parent_key, child_key, which_type, value)
    if not self[parent_key] then
        self[parent_key] = {}
    end
    if not self[parent_key][child_key] then
        self[parent_key][child_key] = {}
    end
    self[parent_key][child_key][which_type] = value
    if type(value) == 'string' or type(value) == 'table' then
        return true
    end
end

function mt:load(parent_key, child_key, which_type)
    if not self[parent_key] then
        return nil
    end
    if not self[parent_key][child_key] then
        return nil
    end
    return self[parent_key][child_key][which_type]
end

function hashtable.create()
    local ht = setmetatable({}, hashtable)
    ht.handle_id = common_util.generate_handle_id()
    hashtable[ht.handle_id] = ht
    return ht
end

return hashtable